suite: Test the Template files
values:
- ../values.yaml
- ../test_values.yaml
release:
  name: platform-mesh
  namespace: platform-mesh-system
chart:
  appVersion: 1.0.0
templates:
  - deploy.yaml
tests:
  - it: matches the Snapshot
    asserts:
    - matchSnapshot: {}
  - it: has all hostAliases configured
    set:
      hostAliases:
        enabled: true
        entries:
          - ip: "10.0.0.1"
            hostnames:
              - "example.com"
              - "test.example.com"
    asserts:
      - matchSnapshot: {}
      - equal:
          path: spec.template.spec.hostAliases[0].ip
          value: 10.0.0.1