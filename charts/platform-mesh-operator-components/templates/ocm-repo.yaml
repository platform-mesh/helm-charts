{{- if .Values.ocm.repo.create }}
apiVersion: delivery.ocm.software/v1alpha1
kind: Repository
metadata:
  name: {{ .Values.ocm.repo.name }}
spec:
  repositorySpec:
    baseUrl: ghcr.io/platform-mesh
    type: OCIRegistry
  interval: 1m
  ocmConfig:
    - kind: Secret
      name: {{ .Values.ociPullSecret }}
{{- end }}