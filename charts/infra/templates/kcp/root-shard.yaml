apiVersion: operator.kcp.io/v1alpha1
kind: RootShard
metadata:
  name: root
  namespace: {{ .Values.kcp.namespace | default "kcp-system" }}
spec:
  external:
    # replace the hostname with the external DNS name for your kcp instance
    hostname: kcp.portal.dev.local
    port: 8443
  certificates:
    # this references the issuer created above
    issuerRef:
      group: cert-manager.io
      kind: Issuer
      name: selfsigned
  cache:
    embedded:
      # kcp comes with a cache server accessible to all shards,
      # in this case it is fine to enable the embedded instance
      enabled: true
  etcd:
    endpoints:
      # this is the service URL to etcd. Replace if Helm chart was
      # installed under a different name or the namespace is not "default"
      - {{ include "infra.etcd.serviceURL" . }}