# yaml-language-server: $schema=https://raw.githubusercontent.com/helm-unittest/helm-unittest/main/schema/helm-testsuite.json
suite: Test the application manifests
release:
  name: infra
  namespace: platform-mesh-system
tests:
- it: match snapshots
  asserts:
  - matchSnapshot: {}
- it: match snapshots w. hostAliases enabled
  set:
    kcp:
      frontProxy:
        clusterIP: "10.0.0.1"
    hostAliases:
      enabled: true
  asserts:
    - matchSnapshot: {}
- it: match snapshots w. kcp version
  set:
    kcp:
      image:
        tag: "v0.1.0"
  asserts:
    - matchSnapshot: {}
