image:
  name: ghcr.io/platform-mesh/portal
  pullPolicyOverride: IfNotPresent

http:
  protocol: http

importContent: false

validWebcomponentUrls: ".?"
featureToggles: "enableSessionAutoRefresh=true"

virtualService:
  hosts:
    - "*"

environment: local

developmentLandcsape: "true"

frontendPort: 8000

baseDomains:
  - "localhost"

cookieDomain: "localhost"

kubeconfigSecret: ""

extraEnvVars:
  - name: PLATFORM_MESH_PORTAL_CONTEXT_CRD_GATEWAY_API_URL
    value: https://${org-subdomain}portal.dev.local:8443/api/kubernetes-graphql-gateway/root:orgs:${org-name}/graphql
  - name: PLATFORM_MESH_PORTAL_CONTEXT_IAM_SERVICE_API_URL
    value: https://portal.dev.local:8443/iam/query
  - name: PLATFORM_MESH_PORTAL_CONTEXT_IAM_ENTITY_CONFIG
    value: >-
      {"account":{"contextProperty":"entityId"}}

trust:
  platform-mesh:
    baseDomains: "localhost"
    discoveryEndpoint: ""
    authDomain: http://localhost:8000/keycloak/realms/platform-mesh/protocol/openid-connect/auth
    tokenUrl: http://platform-mesh-keycloak/keycloak/realms/platform-mesh/protocol/openid-connect/token
    oidcClientSecretName: platform-mesh-client
    loginAudience: platform-mesh
    secretKeyRef: attribute.client_secret
    contentConfigurationValidatorApiUrl: http://platform-mesh-extension-manager-operator-server.platform-mesh-system.svc.cluster.local:8088/validate

health:
  port: 9000
  readiness:
    path: /rest/health
  liveness:
    path: /rest/health
  startup:
    path: /rest/health
