image:
  name: ghcr.io/platform-mesh/portal
  pullPolicyOverride: IfNotPresent

http:
  # -- protocol
  protocol: http

# -- import content toggle
importContent: false

validWebcomponentUrls: ".?"
featureToggles: "enableSessionAutoRefresh=true"

virtualService:
  # -- virtual service hosts
  hosts:
    - "*"

# -- environment
environment: local

# -- development landscape toggle
developmentLandcsape: "true"

# -- frontend port
frontendPort: 8000

baseDomains:
  # -- base domains for VirtualService
  - "localhost"

# -- cookie domain
cookieDomain: "localhost"

# -- allows the configuration of a kubeconfig secret for external api servers
kubeconfigSecret: ""
kcp:
  kubeconfigSecret: ""

auth:
  default:
    # -- discovery url used for the idp
    discoveryUrl: ""
    # -- client id
    clientId: ""
    # -- baseDomain used by the portal
    baseDomain: ""
health:
  # -- health port to be used by probes
  port: 8080
  readiness:
    # -- path used for the readiness probe
    path: /rest/health
  liveness:
    # -- path used for the liveness probe
    path: /rest/health
  startup:
    # -- path used for the startup probe
    path: /rest/health

# -- hostAliases configuration
hostAliases:
  # -- enable hostAliases
  enabled: false
  # -- hostAliases entries
  entries: []

validation:
  port: 8088
  path: /validate
  service: "extension-manager-operator-server"
  protocol: "http"

traefik:
  # -- toggle to enable traefik CORS filter in HTTPRoute
  enabled: true

gatewayApi:
  # -- toggle to enable the Gateway API
  enabled: true
  httpRoute:
    pathPrefix: /
    hostnames:
    - "portal.localhost"
    - "*.portal.localhost"
    parentRefs:
    - name: k8sapi-gateway
    # -- list of HTTPRoute filters (default: none)
    filters: []
    # -- CORS filter referencing traefik middleware (used when traefik.enabled=true)
    corsFilters:
      - type: ExtensionRef
        extensionRef:
          group: traefik.io
          kind: Middleware
          name: cors-header

