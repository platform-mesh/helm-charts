apiVersion: kro.run/v1alpha1
kind: PlatformMeshOperator
metadata:
  name: platform-mesh-operator
spec:
  resource:
    byReference:
      referencePath:
        - name: platform-mesh-operator
      resource:
        name: chart
  values:
    image:
      tag: v0.27.0-rc.8
    remoteFluxCD:
      enabled: false
    remotePlatformmesh:
      enabled: true
      operator:
        secretName: "platform-mesh-kubeconfig"
        secretKey: "kubeconfig"
      fluxcd:
        secretName: "platform-mesh-kubeconfig"
        secretKey: "kubeconfig"
    hostAliases:
      enabled: true
      entries:
        - ip: "172.18.0.6"
          hostnames:
            - kcp.api.portal.dev.local
            - portal.dev.local
    # extraArgs:
    #   - --remote-fluxcd-enabled=false
    #   - --remote-fluxcd-platform-mesh-kubeconfig-secret-name=platform-mesh-kubeconfig
    #   - --remote-fluxcd-platform-mesh-kubeconfig-secret-key=kubeconfig
    #   - --remote-platform-mesh-enabled=true
    #   - --remote-platform-mesh-kubeconfig=/etc/k8s/platformmesh/kubeconfig

